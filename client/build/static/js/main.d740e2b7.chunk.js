(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/l60Hf.cf89e8e6.png"},24:function(e,t,a){},42:function(e,t,a){e.exports=a(86)},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),l=a.n(o),c=(a(24),a(14)),i=a(2),s=a(4),u=a(7),p=a(9),m=a(8),f=a(1),d=a.n(f),g=a(5),h=a(3),E=a.n(h),v=function(e){e?E.a.defaults.headers.common["x-auth-token"]=e:delete E.a.defaults.headers.common["x-auth-token"]},b=function(){return function(){var e=Object(g.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&v(localStorage.token),e.prev=1,e.next=4,E.a.get("https://social-pics.herokuapp.com/api/auth");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},y=function(){return function(e){e({type:"LOGOUT"})}},O=function(){return function(){var e=Object(g.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_PROFILE"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(){return function(e){e({type:"CLEAN_UP"})}},k=(a(70),Object(m.b)((function(e){return{isAuthencticated:e.auth.isAuthencticated,error:e.auth.errorMsg}}),{login:function(e,t){return function(){var a=Object(g.a)(d.a.mark((function a(n){var r,o,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},o=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,E.a.post("https://social-pics.herokuapp.com/api/auth",o,r);case 5:l=a.sent,n({type:"LOGIN_SUCCESS",payload:l.data}),n(b()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),console.log(a.t0),n({type:"LOGIN_FAIL",payload:a.t0.response.data.msg});case 14:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()},clean:w})((function(e){var t=e.login,a=e.isAuthencticated,o=e.error,l=e.clean,m=Object(n.useState)({email:"",password:""}),f=Object(s.a)(m,2),d=f[0],g=f[1];Object(n.useEffect)((function(){l()}),[]);var h=function(e){g(Object(i.a)(Object(i.a)({},d),{},Object(c.a)({},e.target.name,e.target.value)))},E=d.email,v=d.password;return a?r.a.createElement(u.a,{to:"/dashboard"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"container2"},r.a.createElement("h1",{className:"logo"},"Social"),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("input",{className:"regInp",type:"email",name:"email",value:E,onChange:function(e){return h(e)},placeholder:"email"}),r.a.createElement("input",{className:"regInp",type:"password",name:"password",value:v,onChange:function(e){return h(e)},placeholder:"password"}))),r.a.createElement("div",{style:{backgroundColor:"skyblue",textAlign:"center",width:"70%",margin:"1em auto",cursor:"pointer"},onClick:function(e){return function(e){e.preventDefault(),t(E,v)}(e)}},"Log In"),o&&r.a.createElement("p",{style:{fontSize:"0.8rem",textAlign:"center",width:"70%",margin:"0 auto",color:"red"}},o),r.a.createElement(p.b,{style:{fontSize:"0.8rem",textAlign:"center",width:"70%",margin:"0 auto"},to:"/forgetpass"},"forget password?"))),r.a.createElement("div",{className:"container1"},r.a.createElement("div",null,r.a.createElement("p",{style:{display:"inline"}},"Don't have an account? "),r.a.createElement(p.b,{to:"/register",style:{color:"lightblue"}},"Sign up"))))}))),j=(a(72),Object(m.b)((function(e){return{isAuthencticated:e.auth.isAuthencticated,error:e.auth.error}}),{register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(g.a)(d.a.mark((function e(r){var o,l,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={headers:{"Content-Type":"application/json"}},l=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,E.a.post("https://social-pics.herokuapp.com/api/users",l,o);case 5:c=e.sent,r({type:"REGISTER_SUCCESS",payload:c.data}),r(b()),e.next=19;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.response.data),(i={}).email=e.t0.response.data.errors.filter((function(e){return"email"===e.param}))[0],i.password=e.t0.response.data.errors.filter((function(e){return"password"===e.param}))[0],i.name=e.t0.response.data.errors.filter((function(e){return"name"===e.param}))[0],console.log(i),r({type:"REGISTER_FAIL",payload:i});case 19:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},clean:w})((function(e){var t=e.clean,a=e.register,o=e.isAuthencticated,l=e.error,m=Object(n.useState)({name:"",email:"",password:""}),f=Object(s.a)(m,2),d=f[0],g=f[1];Object(n.useEffect)((function(){t()}),[]);var h=function(e){g(Object(i.a)(Object(i.a)({},d),{},Object(c.a)({},e.target.name,e.target.value)))},E=d.name,v=d.email,b=d.password;return o?r.a.createElement(u.a,{to:"/dashboard"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"container2"},r.a.createElement("h1",null,"Social"),r.a.createElement("p",{style:{textAlign:"center",color:"#8e8e8e",fontSize:"17px",margin:"1em  1em"}},"Sign up to see photos from your friends."),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("input",{className:"regInp",type:"email",name:"email",value:v,placeholder:"email",onChange:function(e){return h(e)}}),l&&r.a.createElement("div",{className:"inputVal"},void 0!=l.email&&l.email.msg),r.a.createElement("input",{autoComplete:"off",className:"regInp",type:"text",name:"name",value:E,placeholder:"username",onChange:function(e){return h(e)}}),l&&r.a.createElement("div",{className:"inputVal"},void 0!=l.name&&l.name.msg),r.a.createElement("input",{autoComplete:"off",className:"regInp",type:"password",name:"password",value:b,placeholder:"password",onChange:function(e){return h(e)}}),l&&r.a.createElement("div",{className:"inputVal"},void 0!=l.password&&l.password.msg),r.a.createElement("div",{style:{backgroundColor:"skyblue",textAlign:"center",width:"70%",margin:"1em auto",cursor:"pointer"},onClick:function(e){return function(e){e.preventDefault(),a({name:E,email:v,password:b})}(e)}},"Sign up"))),r.a.createElement("p",{style:{fontSize:"0.8rem",textAlign:"center",width:"70%",margin:"0 auto"}},"By signing up, you agree to our Terms , Data Policy and Cookies Policy ."))),r.a.createElement("div",{className:"container3"},r.a.createElement("div",null,r.a.createElement("p",{style:{display:"inline"}},"Have an account? "),r.a.createElement(p.b,{to:"/",style:{color:"lightblue"}},"Log in"))))}))),x=a(16),C={token:localStorage.getItem("token"),isAuthencticated:null,loading:!0,user:null,error:null,errorMsg:null},P={profile:null,profiles:[],loading:!0,otherProfile:null,otherProfilePosts:null,errors:{},userFF:null},N={posts:null},S=Object(x.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(i.a)(Object(i.a)({},e),{},{isAuthencticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(i.a)(Object(i.a)(Object(i.a)({},e),n),{},{isAuthencticated:!0,loading:!1});case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(i.a)(Object(i.a)({},e),{},{token:null,isAuthencticated:!1,loading:!1,error:n});case"LOGIN_FAIL":return Object(i.a)(Object(i.a)({},e),{},{token:null,isAuthencticated:!1,loading:!1,errorMsg:n});case"CLEAN_UP":return Object(i.a)(Object(i.a)({},e),{},{error:null,errorMsg:null});case"AUTH_ERROR":case"LOGOUT":return localStorage.removeItem("token"),Object(i.a)(Object(i.a)({},e),{},{token:null,isAuthencticated:!1,loading:!1});default:return Object(i.a)({},e)}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{profile:n,loading:!1,userFF:n.profile});case"GET_PROFILES":return Object(i.a)(Object(i.a)({},e),{},{profiles:n});case"FOLLOW_PROFILE":case"UNFOLLOW_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{userFF:n.profile,otherProfile:n.oProfile});case"GET_OTHER_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{otherProfile:n.userProfile,otherProfilePosts:n.userProfilePosts});case"PROFILE_ERROR":return Object(i.a)(Object(i.a)({},e),{},{errors:n,loading:!0});case"CLEAR_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{profile:null,loading:!1});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_POSTS":return Object(i.a)(Object(i.a)({},e),{},{posts:n});case"UPDATE_LIKES":return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.map((function(e){return e._id===n.id?Object(i.a)(Object(i.a)({},e),{},{likes:n.likes,like:n.like}):e}))});default:return Object(i.a)({},e)}}}),R=a(38),I=a(39),L=[R.a],F=Object(x.createStore)(S,{},Object(I.composeWithDevTools)(x.applyMiddleware.apply(void 0,L))),A=function(){return function(){var e=Object(g.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("https://social-pics.herokuapp.com/api/profile/me");case 3:return a=e.sent,e.next=6,E.a.get("https://social-pics.herokuapp.com/api/post");case 6:n=e.sent,t({type:"GET_PROFILE",payload:{profile:a.data,post:n.data}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"PROFILE_ERROR",payload:{msg:"server error"}});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},_=(a(73),Object(m.b)(null,{logout:y,clearProfile:O})((function(e){var t=e.logout,a=e.clearProfile;return r.a.createElement("div",{className:"nav"},r.a.createElement("div",{className:"navbar"},r.a.createElement(p.b,{style:{textDecoration:"none",cursor:"pointer"},className:"navhead",to:"/"},r.a.createElement("p",null,"Social")),r.a.createElement("div",{className:"navlinks"},r.a.createElement(p.b,{className:"navlink",to:"/all-profiles"},r.a.createElement("i",{style:{color:"black"},className:"fas fa-globe-asia fa-2x"})),r.a.createElement(p.b,{className:"navlink",to:"/profile"},r.a.createElement("i",{style:{color:"black"},className:"fas fa-user-circle fa-2x"})),r.a.createElement(p.b,{onClick:function(){t(),a()},className:"navlink",to:"/profile"},r.a.createElement("i",{style:{color:"black"},class:"fas fa-sign-out-alt fa-2x"})))))}))),T=(a(74),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("i",{class:"fab fa-instagram fa-3x"}))}),D=(a(75),function(){return function(){var e=Object(g.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("https://social-pics.herokuapp.com/api/post/posts");case 3:a=e.sent,t({type:"GET_POSTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}),U=(a(76),a(18)),G=a.n(U),z=Object(m.b)((function(e){return{user:e.auth.user,post:e.post.posts}}),{updateLikes:function(e,t){return function(){var a=Object(g.a)(d.a.mark((function a(n){var r,o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.a.get("https://social-pics.herokuapp.com/api/post/like/".concat(e));case 3:r=a.sent,o=r.data.filter((function(e){return e.user===t})).length>0,n({type:"UPDATE_LIKES",payload:{id:e,likes:r.data,like:o}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getPosts:D})((function(e){var t=e.detail,a=e.updateLikes,o=e.user,l=(e.post,e.getPosts),c=t.image,i=Object(n.useState)(null),u=Object(s.a)(i,2),m=u[0],f=u[1],h=Object(n.useState)(null),v=Object(s.a)(h,2),b=v[0],y=v[1],O=Object(n.useState)(""),w=Object(s.a)(O,2),k=w[0],j=w[1],x=t.likes.filter((function(e){return e.user===o._id})).length>0,C=function(){var e=Object(g.a)(d.a.mark((function e(a){var n,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({comment:k}),!k){e.next=11;break}return e.next=5,E.a.post("https://social-pics.herokuapp.com/api/post/comment/".concat(t._id),r,n);case 5:o=e.sent,console.log(o.data),j(""),l(),e.next=12;break;case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(Object(g.a)(d.a.mark((function e(){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},n=JSON.stringify({user:t.user}),e.next=4,E.a.post("https://social-pics.herokuapp.com/api/post/user",n,a);case 4:r=e.sent,f(r.data.name),y(r.data.profileImage);case 7:case"end":return e.stop()}}),e)}))),[t.user]),r.a.createElement("div",{className:"postCard"},r.a.createElement("div",{className:"postCard1"},b?r.a.createElement("div",null,r.a.createElement("img",{src:b,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}})):r.a.createElement("div",null,r.a.createElement("img",{src:G.a,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}})),m&&r.a.createElement(p.b,{style:{textDecoration:"none"},to:"/profile/".concat(m)},r.a.createElement("p",{style:{color:"black",fontSize:"1.2rem",cursor:"pointer"}},m))),r.a.createElement("div",{className:"postCard2"},r.a.createElement("img",{id:"preview",src:c,style:{width:"100%",height:"100%",objectFit:"contain"}})),r.a.createElement("div",{className:"postCard3"},r.a.createElement("div",{onClick:function(){return a(t._id,o._id)},style:{backgroundColor:x?"lightblue":"tomato",padding:"0.5em",color:"white",cursor:"pointer"}},"Likes ",r.a.createElement("span",null,t.likes.length))),r.a.createElement("div",{className:"comments"},t.comments.map((function(e){return r.a.createElement("div",{style:{fontSize:"0.8rem",wordWrap:"break-word"}},r.a.createElement("span",{style:{fontWeight:"700",fontSize:"0.8rem"}},e.name,"  "),e.comment)}))),r.a.createElement("div",{className:"postCard4"},r.a.createElement("div",null,r.a.createElement("textarea",{onKeyDown:function(e){13===e.keyCode&&e.preventDefault()},onChange:function(e){return function(e){j(e.target.value)}(e)},type:"text",placeholder:"Add a comment",value:k,style:{border:"none",display:"inline",flexBasis:"80%",overflowWrap:"break-word"}}),r.a.createElement("button",{onClick:function(e){return C(e)},style:{display:"inline",flexBasis:"20%",backgroundColor:"white",color:k?"blue":"skyblue",border:"none",cursor:k?"pointer":"default"}},"Post"))))})),W=(a(77),a(40)),J=a.n(W),M=(a(78),function(e){var t,a,o=e.setPost,l=Object(n.useState)(null),c=Object(s.a)(l,2),i=c[0],p=c[1],m=Object(n.useState)(null),f=Object(s.a)(m,2),h=f[0],v=f[1],b=Object(n.useState)(),y=Object(s.a)(b,2),O=y[0],w=y[1],k=Object(n.useRef)(null),j=Object(n.useRef)(null),x=Object(n.useState)({unit:"%",width:100,height:100}),C=Object(s.a)(x,2),P=C[0],N=C[1],S=Object(n.useState)(null),R=Object(s.a)(S,2),I=R[0],L=R[1],F=function(){var e=Object(g.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0),t.target.files.length>0&&(p(t.target.files[0]),console.log(i),(a=new FileReader).addEventListener("load",(function(){return w(a.result)})),a.readAsDataURL(t.target.files[0]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=Object(n.useCallback)((function(e){k.current=e}),[]);Object(n.useEffect)((function(){if(I&&j.current&&k.current){var e=k.current,t=j.current,a=I,n=e.naturalWidth/e.width,r=e.naturalHeight/e.height,o=t.getContext("2d"),l=window.devicePixelRatio;t.width=a.width*l,t.height=a.height*l,o.setTransform(l,0,0,l,0,0),o.imageSmoothingQuality="high",o.drawImage(e,a.x*n,a.y*r,a.width*n,a.height*r,0,0,a.width,a.height),console.log(k.current)}}),[I]);var _=function(){var e=Object(g.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&t){e.next=2;break}return e.abrupt("return");case 2:return t.toBlob(function(){var e=Object(g.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new File([t],"fileName.jpg",{type:"image/jpeg"}),console.log(a),n={headers:{"Content-Type":"multipart/form-data"}},console.log(a),(r=new FormData).append("file",a),e.next=8,E.a.post("https://social-pics.herokuapp.com/api/post",r,n);case 8:o(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"image/jpeg",1),e.abrupt("return",r.a.createElement(u.a,{to:"/profile"}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"postModal"},h&&r.a.createElement(J.a,{style:{width:"50vw",height:"50vh",overflow:"auto",overflowX:"hidden",marginBottom:"1em"},src:O,onImageLoaded:A,crop:P,onChange:function(e){return N(e)},onComplete:function(e){return L(e)}}),r.a.createElement("div",{style:{display:"none"}},r.a.createElement("canvas",{ref:j,style:{width:Math.round(null!==(t=null===I||void 0===I?void 0:I.width)&&void 0!==t?t:0),height:Math.round(null!==(a=null===I||void 0===I?void 0:I.height)&&void 0!==a?a:0)}})),r.a.createElement("div",{className:"postModal2"},r.a.createElement("label",{htmlFor:"files",style:{padding:"0.5em",borderRadius:"2%",backgroundColor:"skyblue",color:"white",cursor:"pointer"}},"Upload"),r.a.createElement("input",{onChange:function(e){return F(e)},id:"files",type:"file",style:{display:"none"}})),r.a.createElement("div",{className:"postModal3"},h?r.a.createElement("div",{style:{backgroundColor:"lightgreen",padding:"0.5em",borderRadius:"2%",cursor:"pointer"},onClick:function(){return _(j.current,I)}},"post"):r.a.createElement("div",{style:{backgroundColor:"tomato",padding:"0.5em",borderRadius:"2%",cursor:"pointer"},onClick:function(){return o(!1)}},"close"))))}),B=Object(m.b)((function(e){return{isAuthencticated:e.auth.isAuthencticated,loading:e.profile.loading,profile:e.profile.profile,posts:e.post.posts}}),{logout:y,clearProfile:O,getCurrentProfile:A,getPosts:D})((function(e){e.logout,e.clearProfile,e.isAuthencticated,e.loading;var t=e.getCurrentProfile,a=(e.profile,e.getPosts),o=e.posts,l=Object(n.useState)(!1),c=Object(s.a)(l,2),i=c[0],u=c[1];if(o){var p=o.filter((function(e){return e.length>0}));console.log(p)}return Object(n.useEffect)((function(){t(),a()}),[t,a]),r.a.createElement(n.Fragment,null,r.a.createElement(_,null),i&&r.a.createElement("div",{onClick:function(){return u(!i)},style:{position:"fixed",zIndex:"9",backgroundColor:"rgb(0,0,0,0.3)",top:"0",width:"100%",height:"100%"}}),r.a.createElement("div",{className:"posts"},r.a.createElement("div",{className:"post"},r.a.createElement("div",{className:"postItem"},r.a.createElement("i",{style:{color:"grey"},class:"fas fa-plus-square fa-2x",onClick:function(){return u(!i)}})),o&&0!=o.length?r.a.createElement("div",null,r.a.createElement("div",{className:"postItem1"},"Posts for you"),o.map((function(e){return r.a.createElement(z,{detail:e})}))):r.a.createElement("div",null,r.a.createElement("div",{className:"postItem1"},"Posts for you"),r.a.createElement("div",{className:"camera"},r.a.createElement("i",{style:{color:"grey"},className:"fas fa-camera fa-4x"})),r.a.createElement("div",{style:{textAlign:"center"}},"No Posts Yet")))),i&&r.a.createElement(M,{setPost:u}))})),H=Object(m.b)((function(e){return{profile:e.profile.profile}}),{createProfile:function(e,t){return function(){var a=Object(g.a)(d.a.mark((function a(n){var r,o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{Content_Type:"application/json"}},a.prev=1,a.next=4,E.a.post("https://social-pics.herokuapp.com/api/profile/makeProfile",e,r);case 4:o=a.sent,n({type:"GET_PROFILE",payload:o.data}),t.push("/dashboard"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}})(Object(u.g)((function(e){var t=e.createProfile,a=e.history,o=Object(n.useState)({name:"",bio:""}),l=Object(s.a)(o,2),u=l[0],p=l[1],m=u.name,f=u.bio,d=function(e){p(Object(i.a)(Object(i.a)({},u),{},Object(c.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(u,a)}(e)}},r.a.createElement("input",{className:"input",type:"text",name:"name",value:m,placeholder:"name",onChange:function(e){return d(e)}}),r.a.createElement("input",{className:"input",type:"text",name:"bio",value:f,placeholder:"bio",onChange:function(e){return d(e)}}),r.a.createElement("button",{type:"submit",className:"Button"},"Submit")))})));a(79);var V=Object(m.b)((function(e){return{profile:e.profile.profile}}),{getCurrentProfile:A})((function(e){var t=e.profile,a=e.getCurrentProfile,o=Object(n.useState)({nick:"",bio:"",website:"",gender:""}),l=Object(s.a)(o,2),u=l[0],p=l[1];Object(n.useEffect)((function(){a(),t&&p({nick:t.profile.nick,bio:t.profile.bio,website:t.profile.website,gender:t.profile.gender})}),[a]);var m=function(e){p(Object(i.a)(Object(i.a)({},u),{},Object(c.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(g.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={headers:{"Content-Type":"application/json"}},n=JSON.stringify({nick:h,bio:v,website:b,gender:y}),e.next=5,E.a.post("https://social-pics.herokuapp.com/api/profile/makeProfile",n,a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=u.nick,v=u.bio,b=u.website,y=u.gender;return r.a.createElement("div",null,r.a.createElement(_,null),t?r.a.createElement("div",{className:"setting"},r.a.createElement("div",{style:{flexBasis:"30%",borderRight:"1px solid #e8e8e8"}},r.a.createElement("div",{style:{padding:"1em"}},"Edit Profile")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexBasis:"70%"}},r.a.createElement("div",{className:"setting1"},r.a.createElement("div",null,"name"),r.a.createElement("input",{onChange:function(e){return m(e)},defaultValue:t.profile.name,disabled:!0})),t.profile.nick?r.a.createElement("div",{className:"setting1"},r.a.createElement("div",null,"nick name"),r.a.createElement("input",{onChange:function(e){return m(e)},name:"nick",defaultValue:t.profile.nick,value:h,type:"text"})):r.a.createElement("div",{className:"setting1"},r.a.createElement("div",null,"nick name"),r.a.createElement("input",{onChange:function(e){return m(e)},name:"nick",value:h,type:"text"})),t.profile.bio?r.a.createElement("div",{className:"setting1"},r.a.createElement("div",null,"bio"),r.a.createElement("input",{onChange:function(e){return m(e)},name:"bio",value:v,defaultValue:t.profile.bio,type:"text"})):r.a.createElement("div",{className:"setting1"},r.a.createElement("div",null,"bio"),r.a.createElement("input",{onChange:function(e){return m(e)},name:"bio",value:v,type:"text"})),t.profile.website?r.a.createElement("div",{className:"setting1"},r.a.createElement("div",null,"website"),r.a.createElement("input",{onChange:function(e){return m(e)},name:"website",value:b,defaultValue:t.profile.website,type:"text"})):r.a.createElement("div",{className:"setting1"},r.a.createElement("div",null,"website"),r.a.createElement("input",{onChange:function(e){return m(e)},name:"website",value:b,type:"text"})),t.profile.gender?r.a.createElement("div",{className:"setting1"},r.a.createElement("div",null,"Gender"),r.a.createElement("input",{onChange:function(e){return m(e)},name:"gender",value:y,defaultValue:t.profile.gender,type:"text"})):r.a.createElement("div",{className:"setting1"},r.a.createElement("div",null,"Gender"),r.a.createElement("input",{onChange:function(e){return m(e)},name:"gender",value:y,type:"text"})),r.a.createElement("div",{className:"setting1"},r.a.createElement("div",null),r.a.createElement("div",{style:{backgroundColor:"lightblue",padding:"0.5em",textAlign:"center",cursor:"pointer"},onClick:function(e){return f(e)}},"Submit")))):r.a.createElement(T,null))})),K=(a(80),Object(m.b)((function(e){return{user:e.auth.user,isAuthencticated:e.auth.isAuthencticated,profile:e.profile.profile,post:e.profile.posts}}),{getCurrentProfile:A})((function(e){var t=e.profile,a=e.user,o=e.getCurrentProfile,l=e.isAuthencticated,c=(e.post,Object(n.useState)(!1)),i=Object(s.a)(c,2),m=i[0],f=i[1],h=Object(n.useState)(null),v=Object(s.a)(h,2),b=(v[0],v[1],Object(n.useState)(null)),y=Object(s.a)(b,2),O=(y[0],y[1]),w=Object(n.useState)(null),k=Object(s.a)(w,2),j=k[0],x=k[1],C=Object(n.useState)(!1),P=Object(s.a)(C,2),N=P[0],S=P[1];Object(n.useEffect)((function(){o()}),[o]),t&&console.log(t.post);var R=function(e){var t=e.target.files[0];x(e.target.files[0]);var a=new FileReader;a.onloadend=function(){O(a.result),S(!0)},a.readAsDataURL(t)},I=function(){var e=Object(g.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",j),e.next=4,E.a.post("https://social-pics.herokuapp.com/api/profile",t);case 4:e.sent,f(!m),S(!N),o();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l?r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),m&&r.a.createElement("div",{onClick:function(){f(!m),S(!1)},style:{position:"fixed",zIndex:"9",backgroundColor:"rgb(0,0,0,0.3)",top:"0",width:"100%",height:"100%"}}),r.a.createElement("div",{className:"OtherProfile"},r.a.createElement("div",{className:"profileHeader"},r.a.createElement("div",{className:"profile"},t.profile.profileImage?r.a.createElement("div",null,r.a.createElement("img",{src:t.profile.profileImage,onClick:function(){return f(!m)},style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}})):r.a.createElement("div",{onClick:function(){return f(!m)}},r.a.createElement("img",{src:G.a,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}))),t.profile&&t.post&&r.a.createElement("div",{className:"profileDetail"},r.a.createElement("div",{className:"profileDetail1"},r.a.createElement("span",{className:"profileUser",style:{marginLeft:"1em"}},a.name),r.a.createElement(p.b,{style:{marginLeft:"1em",border:"1px solid #e8e8e8",padding:"0.5em",textDecoration:"none",color:"black"},to:"/edit-profile"},"Edit Profile")),r.a.createElement("div",{style:{marginTop:"1em"}},r.a.createElement("span",{style:{marginLeft:"1em"}},t.post.length," : posts"),r.a.createElement("span",{style:{marginLeft:"2em"}},t.profile.followers.length," : followers"),r.a.createElement("span",{style:{marginLeft:"2em"}},t.profile.following.length," : following")),r.a.createElement("div",null,t.profile.bio&&r.a.createElement("p",{style:{marginLeft:"1em"}},t.profile.bio)))),r.a.createElement("div",{className:"profilePosts"},t.post.map((function(e){return r.a.createElement(p.b,{to:"/post/".concat(e._id),className:"profilePosts1",style:{background:"url(".concat(e.image,") no-repeat center/cover")}},r.a.createElement("div",{className:"profilePosts2"},r.a.createElement("i",{style:{color:"white",marginRight:"0.5em"},class:"fas fa-heart"}),e.likes.length))})))),m&&r.a.createElement("div",{className:"uploadImg"},r.a.createElement("div",{className:"uploadImg1"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"files",style:{padding:"0.5em",borderRadius:"2%",backgroundColor:"skyblue",color:"white",cursor:"pointer"}},"Upload"),r.a.createElement("input",{onChange:function(e){return R(e)},id:"files",type:"file",style:{display:"none"}})),r.a.createElement("div",null,r.a.createElement("div",{style:{backgroundColor:"tomato",padding:"0.5em",borderRadius:"2%",cursor:"pointer"},onClick:function(){return f(!m)}},"Close")))),N&&r.a.createElement("div",{className:"uploadImg"},r.a.createElement("div",{className:"uploadImg1"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"files",style:{padding:"0.5em",borderRadius:"2%",backgroundColor:"skyblue",color:"white",cursor:"pointer"}},"Upload"),r.a.createElement("input",{onChange:function(e){return R(e)},id:"files",type:"file",style:{display:"none"}})),r.a.createElement("div",null,r.a.createElement("div",{style:{backgroundColor:"lightgreen",padding:"0.5em",borderRadius:"2%",cursor:"pointer"},onClick:function(){return I()}},"Set Image"))))):r.a.createElement(u.a,{to:"/"})}))),q=(a(81),function(e){var t=e.name,a=e.url;return console.log(a),r.a.createElement("div",{className:"UsersCard"},r.a.createElement("div",{className:"UserCardImg"},a?r.a.createElement("img",{src:a,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}):r.a.createElement("div",{className:"UserCardImg"},r.a.createElement("i",{className:"far fa-user-circle fa-2x"}))),r.a.createElement("div",{className:"UserCard"},r.a.createElement(p.b,{to:"/profile/".concat(t),style:{textDecoration:"none",color:"black",fontSize:"1.2rem",cursor:"pointer"},className:"card-body"},t)))}),Q=Object(m.b)((function(e){return{profile:e.profile,isAuthencticated:e.auth.isAuthencticated}}),{getAllProfiles:function(){return function(){var e=Object(g.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("https://social-pics.herokuapp.com/api/profile");case 3:a=e.sent,t({type:"GET_PROFILES",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"PROFILE_ERROR",payload:{msg:"server error"}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentProfile:A})((function(e){var t=e.profile,a=(e.isAuthencticated,e.getCurrentProfile),o=e.getAllProfiles;return Object(n.useEffect)((function(){a(),o()}),[o,a]),r.a.createElement("div",null,t.profiles?r.a.createElement("div",null,r.a.createElement(_,null),r.a.createElement("div",{style:{marginTop:"6em",display:"flex",flexDirection:"column",marginLeft:"30%"}},t.profiles.map((function(e){return r.a.createElement(q,{key:e._id,name:e.name,url:e.profileImage})})))):r.a.createElement("div",{class:"spinner-border",role:"status"},r.a.createElement("span",{class:"visually-hidden"},"Loading...")))})),X=(a(82),a(83),Object(m.b)((function(e){return{profile:e.profile,user:e.auth.user}}),{getOtherProfile:function(e){return function(){var t=Object(g.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E()("https://social-pics.herokuapp.com/api/profile/".concat(e));case 3:n=t.sent,a({type:"GET_OTHER_PROFILE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"PROFILE_ERROR",payload:{msg:"server error"}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},followProfile:function(e){return function(){var t=Object(g.a)(d.a.mark((function t(a){var n,r,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({user:e}),t.prev=2,t.next=5,E.a.post("https://social-pics.herokuapp.com/api/profile/followProfile",r,n);case 5:o=t.sent,console.log(o.data),a({type:"FOLLOW_PROFILE",payload:o.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:"PROFILE_ERROR",payload:{msg:"server error"}});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentProfile:A,unfollowProfile:function(e){return function(){var t=Object(g.a)(d.a.mark((function t(a){var n,r,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({user:e}),t.prev=2,t.next=5,E.a.post("https://social-pics.herokuapp.com/api/profile/unfollowProfile",r,n);case 5:o=t.sent,a({type:"UNFOLLOW_PROFILE",payload:o.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a({type:"PROFILE_ERROR",payload:{msg:"server error"}});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.profile,o=e.getOtherProfile,l=e.followProfile,c=e.getCurrentProfile,i=e.unfollowProfile,s=e.user;return console.log(a.profile),Object(n.useEffect)((function(){c(),o(t.params.name)}),[o,t.params.name,c]),r.a.createElement("div",null,r.a.createElement(_,null),a.otherProfile&&a.userFF?r.a.createElement("div",null,r.a.createElement("div",{className:"OtherProfile"},r.a.createElement("div",{className:"header1"},r.a.createElement("div",{className:"oProfile1"},r.a.createElement("div",null,a.otherProfile.profileImage?r.a.createElement("img",{src:a.otherProfile.profileImage,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}):r.a.createElement("img",{src:G.a,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}))),r.a.createElement("div",{className:"oProfile2"},r.a.createElement("div",{className:"oProfile2D"},r.a.createElement("span",{style:{fontSize:"1.3rem",fontWeight:"600"}},t.params.name),a.otherProfile.followers&&a.otherProfile.followers.filter((function(e){return e.user===s._id})).length>0?r.a.createElement("div",{className:"follow",style:{cursor:"pointer"},onClick:function(){return i(a.otherProfile.user)}},"Unfollow"):r.a.createElement("div",{type:"button",className:"follow",onClick:function(){return l(a.otherProfile.user)}},"Follow")),r.a.createElement("div",null,r.a.createElement("span",{style:{marginLeft:"1em"}},a.otherProfilePosts.length," : posts"),r.a.createElement("span",{style:{marginLeft:"1em"}},a.otherProfile.followers.length," : followers"),r.a.createElement("span",{style:{marginLeft:"1em"}},a.otherProfile.following.length," : following")))),a.otherProfilePosts&&r.a.createElement("div",{className:"header2"},a.otherProfilePosts.map((function(e){return r.a.createElement(p.b,{to:"/post/".concat(e._id),className:"OProfileImg1",style:{background:"url(".concat(e.image,") no-repeat center/cover")}},r.a.createElement("div",{className:"OProfileImg2"},r.a.createElement("i",{style:{color:"white",marginRight:"0.5em"},class:"fas fa-heart"}),e.likes.length))}))))):r.a.createElement(T,null))})));var Y=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1],l=function(){var e=Object(g.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:a}),e.next=5,E.a.post("https://social-pics.herokuapp.com/api/auth/forgetPass",r,n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"container2"},r.a.createElement("i",{style:{margin:"0 auto"},class:"fas fa-lock fa-4x"}),r.a.createElement("h4",{style:{fontSize:"1rem",fontWeight:"600",textAlign:"center",width:"70%",margin:"1em auto"}},"Trouble loggin in ?"),r.a.createElement("p",{style:{fontSize:"0.8rem",textAlign:"center",width:"70%",margin:"0 auto",color:"grey"}},"Enter your email, phone, or username and we'll send you a link to get back into your account."),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("input",{className:"regInp",type:"email",name:"email",value:a,onChange:function(e){return function(e){o(e.target.value)}(e)},placeholder:"email"}))),r.a.createElement("div",{style:{backgroundColor:"skyblue",textAlign:"center",width:"70%",margin:"1em auto",cursor:"pointer"},onClick:function(e){return l(e)}},"next"))))},Z=a(41),$=a.n(Z);var ee=function(e){var t=Object(n.useState)({email:"",password1:"",password2:""}),a=Object(s.a)(t,2),o=a[0],l=a[1],p=Object(n.useState)(!1),m=Object(s.a)(p,2),f=m[0],h=m[1],v=function(e){l(Object(i.a)(Object(i.a)({},o),{},Object(c.a)({},e.target.name,e.target.value)))},b=o.email,y=o.password1,O=o.password2,w=function(){var t=Object(g.a)(d.a.mark((function t(a){var n,r,o,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={headers:{"Content-Type":"application/json"}},r=$.a.parse(e.location.search).token,o=JSON.stringify({email:b,password1:y,password2:O,token:r}),t.next=6,E.a.post("https://social-pics.herokuapp.com/api/auth/resetPass/",o,n);case 6:l=t.sent,console.log(l.data.msg),h(!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return f?r.a.createElement(u.a,{to:"/"}):r.a.createElement("div",{className:"register"},r.a.createElement("p",null,"Email"),r.a.createElement("input",{type:"email",name:"email",value:b,onChange:function(e){return v(e)},placeholder:"email"}),r.a.createElement("p",null,"New Password"),r.a.createElement("input",{type:"password",name:"password1",value:y,onChange:function(e){return v(e)},placeholder:"password"}),r.a.createElement("p",null,"Confirm Password"),r.a.createElement("input",{type:"password",name:"password2",value:O,onChange:function(e){return v(e)},placeholder:"password"}),r.a.createElement("div",{onClick:function(e){return w(e)},style:{backgroundColor:"skyblue",textAlign:"center",width:"70%",margin:"1em auto",cursor:"pointer"}},"Set Password"))},te=(a(85),Object(m.b)(null,{getCurrentProfile:A})((function(e){var t=e.match,a=e.getCurrentProfile,o=Object(n.useState)(null),l=Object(s.a)(o,2),c=l[0],i=l[1];return Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://social-pics.herokuapp.com/api/post/otherPost/".concat(t.params.postId));case 2:a=e.sent,console.log(a.data),i(a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),a()}),[a]),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}},c&&r.a.createElement("div",{style:{maxWidth:"600px",height:"80vh",display:"flex",flexDirection:"column",backgroundColor:"black",border:"1px solid #e8e8e8"}},r.a.createElement("img",{style:{objectFit:"contain",height:"100%",maxHeight:"80vh"},src:c.image})))})));localStorage.token&&v(localStorage.token);var ae=function(){return Object(n.useEffect)((function(){F.dispatch(b())}),[]),r.a.createElement(m.a,{store:F},r.a.createElement(p.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:k}),r.a.createElement(u.b,{exact:!0,path:"/forgetpass",component:Y}),r.a.createElement(u.b,{exact:!0,path:"/resetPass",component:ee}),r.a.createElement(u.b,{exact:!0,path:"/register",component:j}),r.a.createElement(u.b,{exact:!0,path:"/dashboard",component:B}),r.a.createElement(u.b,{exact:!0,path:"/create-profile",component:H}),r.a.createElement(u.b,{exact:!0,path:"/profile",component:K}),r.a.createElement(u.b,{exact:!0,path:"/edit-profile",component:V}),r.a.createElement(u.b,{exact:!0,path:"/all-profiles",component:Q}),r.a.createElement(u.b,{exact:!0,path:"/profile/:name",component:X})),r.a.createElement(u.b,{exact:!0,path:"/post/:postId",component:te})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.d740e2b7.chunk.js.map